// æµ‹è¯•æ•°æ®å·¥å‚ - ç”Ÿæˆæµ‹è¯•æ•°æ®

import { Transaction, TransactionType, Category, PaymentInfo } from '../../main/ets/models/Transaction'

export class TestDataFactory {
  
  // åˆ›å»ºæµ‹è¯•äº¤æ˜“è®°å½•
  static createTransaction(overrides?: Partial<Transaction>): Transaction {
    return new Transaction({
      id: 1,
      amount: 128.50,
      type: TransactionType.EXPENSE,
      category: 'é¤é¥®',
      merchant: 'æ˜Ÿå·´å…‹',
      payMethod: 'ä½™é¢',
      transactionTime: Date.now(),
      remark: 'æµ‹è¯•å¤‡æ³¨',
      sourceApp: 'com.tencent.mm',
      createdAt: Date.now(),
      updatedAt: Date.now(),
      ...overrides
    })
  }

  // åˆ›å»ºæ‰¹é‡æµ‹è¯•äº¤æ˜“è®°å½•
  static createTransactions(count: number): Transaction[] {
    const transactions: Transaction[] = []
    const categories = ['é¤é¥®', 'äº¤é€š', 'è´­ç‰©', 'å¨±ä¹', 'å±…ä½']
    const merchants = ['æ˜Ÿå·´å…‹', 'éº¦å½“åŠ³', 'æ»´æ»´', 'æ·˜å®', 'è¶…å¸‚']
    
    for (let i = 0; i < count; i++) {
      transactions.push(this.createTransaction({
        id: i + 1,
        amount: Math.random() * 500 + 10,
        category: categories[i % categories.length],
        merchant: merchants[i % merchants.length],
        transactionTime: Date.now() - i * 86400000 // æ¯å¤©ä¸€æ¡
      }))
    }
    
    return transactions
  }

  // åˆ›å»ºæµ‹è¯•åˆ†ç±»
  static createCategory(overrides?: Partial<Category>): Category {
    return new Category({
      id: 1,
      name: 'é¤é¥®',
      icon: 'ğŸ”',
      type: TransactionType.EXPENSE,
      sortOrder: 1,
      isDefault: true,
      ...overrides
    })
  }

  // åˆ›å»ºæ‰¹é‡æµ‹è¯•åˆ†ç±»
  static createCategories(): Category[] {
    return [
      this.createCategory({ id: 1, name: 'é¤é¥®', icon: 'ğŸ”', sortOrder: 1 }),
      this.createCategory({ id: 2, name: 'äº¤é€š', icon: 'ğŸš—', sortOrder: 2 }),
      this.createCategory({ id: 3, name: 'è´­ç‰©', icon: 'ğŸ›ï¸', sortOrder: 3 }),
      this.createCategory({ id: 4, name: 'å¨±ä¹', icon: 'ğŸ®', sortOrder: 4 }),
      this.createCategory({ id: 5, name: 'å±…ä½', icon: 'ğŸ ', sortOrder: 5 }),
      this.createCategory({ id: 6, name: 'å·¥èµ„', icon: 'ğŸ’°', type: TransactionType.INCOME, sortOrder: 1 }),
      this.createCategory({ id: 7, name: 'å¥–é‡‘', icon: 'ğŸ', type: TransactionType.INCOME, sortOrder: 2 })
    ]
  }

  // åˆ›å»ºæµ‹è¯•æ”¯ä»˜ä¿¡æ¯
  static createPaymentInfo(overrides?: Partial<PaymentInfo>): PaymentInfo {
    return new PaymentInfo({
      amount: 99.99,
      merchant: 'æµ‹è¯•å•†æˆ·',
      payMethod: 'ä½™é¢',
      sourceApp: 'com.tencent.mm',
      timestamp: Date.now(),
      rawText: 'æ”¯ä»˜æˆåŠŸ ï¿¥99.99 å•†æˆ·ï¼šæµ‹è¯•å•†æˆ·',
      ...overrides
    })
  }

  // å¾®ä¿¡æ”¯ä»˜é¡µé¢æ–‡æœ¬
  static getWeChatPayText(): string {
    return `
      æ”¯ä»˜æˆåŠŸ
      ï¿¥128.50
      æ”¶æ¬¾æ–¹ï¼šæ˜Ÿå·´å…‹å’–å•¡
      æ”¯ä»˜æ–¹å¼ï¼šé›¶é’±
      æ”¯ä»˜æ—¶é—´ï¼š2026-02-16 14:30:25
      äº¤æ˜“å•å·ï¼š4200001234567890123456789012
    `
  }

  // æ”¯ä»˜å®æ”¯ä»˜é¡µé¢æ–‡æœ¬
  static getAlipayText(): string {
    return `
      ä»˜æ¬¾æˆåŠŸ
      -ï¿¥256.00
      å•†å®¶ï¼šéº¦å½“åŠ³ï¼ˆå›½è´¸åº—ï¼‰
      ä»˜æ¬¾æ–¹å¼ï¼šä½™é¢
      åˆ›å»ºæ—¶é—´ï¼š2026-02-16 12:15:30
      è®¢å•å·ï¼š2026021620001156789012345678
    `
  }

  // é“¶è¡Œæ”¯ä»˜é¡µé¢æ–‡æœ¬
  static getBankPayText(): string {
    return `
      äº¤æ˜“æˆåŠŸ
      æ”¯å‡ºé‡‘é¢ï¼šï¿¥588.00 å…ƒ
      å•†æˆ·åç§°ï¼šäº¬ä¸œå•†åŸ
      äº¤æ˜“æ—¶é—´ï¼š2026-02-16 10:20:15
      äº¤æ˜“å¡å·ï¼š6222 **** **** 8888
      äº¤æ˜“æµæ°´å·ï¼šICBC202602161020150001
    `
  }
}