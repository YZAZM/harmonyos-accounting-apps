# 功能测试用例文档

## 测试环境要求

### 硬件环境
- 鸿蒙设备：华为Mate 60 Pro / P60 / nova系列
- 最低系统版本：HarmonyOS 5.0
- 建议系统版本：HarmonyOS 5.0.1及以上

### 软件环境
- DevEco Studio NEXT
- 测试App：微信、支付宝、各银行App
- 测试版本：v1.0.0

---

## 一、首页功能测试

### TC-001: 首页数据显示
**优先级**：P0  
**前置条件**：已记账数据存在

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 打开App进入首页 | 成功加载首页 | | ⏳ |
| 2 | 检查今日支出显示 | 显示今日总支出金额 | | ⏳ |
| 3 | 检查今日收入显示 | 显示今日总收入金额 | | ⏳ |
| 4 | 检查本月支出显示 | 显示本月总支出金额 | | ⏳ |
| 5 | 检查本月收入显示 | 显示本月总收入金额 | | ⏳ |
| 6 | 检查最近交易列表 | 显示最近5条交易 | | ⏳ |

### TC-002: 快速记账按钮
**优先级**：P0

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 点击右下角"+"按钮 | 跳转到记账页面 | | ⏳ |

### TC-003: 底部导航
**优先级**：P1

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 点击"统计"导航 | 跳转到统计页面 | | ⏳ |
| 2 | 点击"账单"导航 | 跳转到账单列表页面 | | ⏳ |
| 3 | 点击"设置"导航 | 跳转到设置页面 | | ⏳ |

---

## 二、手动记账功能测试

### TC-004: 正常记账流程
**优先级**：P0

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 进入记账页面 | 默认选中"支出" | | ⏳ |
| 2 | 输入金额"128.50" | 金额显示正常 | | ⏳ |
| 3 | 选择分类"餐饮" | 分类高亮选中 | | ⏳ |
| 4 | 输入商户"星巴克" | 商户名显示正常 | | ⏳ |
| 5 | 点击"保存"按钮 | 保存成功，返回首页 | | ⏳ |
| 6 | 检查首页数据 | 今日支出增加128.50 | | ⏳ |

### TC-005: 收入记账
**优先级**：P0

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 切换到"收入"类型 | 收入类型选中 | | ⏳ |
| 2 | 输入金额"5000" | 金额显示正常 | | ⏳ |
| 3 | 选择分类"工资" | 分类显示收入分类 | | ⏳ |
| 4 | 保存 | 保存成功 | | ⏳ |

### TC-006: 金额输入边界测试
**优先级**：P1

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 输入"0" | 保存按钮禁用 | | ⏳ |
| 2 | 输入"0.01" | 允许保存 | | ⏳ |
| 3 | 输入"999999.99" | 允许保存 | | ⏳ |
| 4 | 输入"-100" | 不允许输入负号 | | ⏳ |
| 5 | 输入"abc" | 只允许数字和小数点 | | ⏳ |

### TC-007: 必填项验证
**优先级**：P1

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 金额为空，点击保存 | 保存按钮禁用 | | ⏳ |
| 2 | 未选择分类，点击保存 | 使用默认分类 | | ⏳ |

---

## 三、自动识别功能测试

### TC-008: 微信支付识别
**优先级**：P0  
**前置条件**：已开启无障碍权限和自动识别

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 打开微信支付完成支付 | 检测到支付成功 | | ⏳ |
| 2 | 检查悬浮窗弹出 | 显示金额、商户、分类 | | ⏳ |
| 3 | 点击"确认"按钮 | 记账成功，悬浮窗关闭 | | ⏳ |
| 4 | 检查首页数据 | 支出增加对应金额 | | ⏳ |

### TC-009: 支付宝支付识别
**优先级**：P0

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 打开支付宝完成支付 | 检测到支付成功 | | ⏳ |
| 2 | 检查悬浮窗弹出 | 显示支付信息 | | ⏳ |
| 3 | 点击"确认"记账 | 记账成功 | | ⏳ |

### TC-010: 悬浮窗操作
**优先级**：P0

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 支付完成后等待 | 5秒后自动关闭 | | ⏳ |
| 2 | 点击"忽略"按钮 | 不记账，关闭悬浮窗 | | ⏳ |
| 3 | 点击"修改"按钮 | 展开修改选项 | | ⏳ |
| 4 | 修改分类后确认 | 使用新分类记账 | | ⏳ |

### TC-011: 自动识别开关
**优先级**：P1

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 关闭自动识别开关 | 开关状态变为关闭 | | ⏳ |
| 2 | 完成支付 | 不弹出悬浮窗 | | ⏳ |
| 3 | 开启自动识别 | 开关状态变为开启 | | ⏳ |

### TC-012: 权限测试
**优先级**：P0

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 首次开启自动识别 | 提示开启无障碍权限 | | ⏳ |
| 2 | 拒绝无障碍权限 | 显示权限引导页面 | | ⏳ |
| 3 | 跳转到系统设置 | 引导用户手动开启 | | ⏳ |

---

## 四、账单列表功能测试

### TC-013: 账单显示
**优先级**：P0

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 进入账单页面 | 显示本月所有账单 | | ⏳ |
| 2 | 检查账单项 | 显示金额、商户、时间 | | ⏳ |
| 3 | 检查图标 | 分类图标正确显示 | | ⏳ |

### TC-014: 月份切换
**优先级**：P1

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 点击上月按钮 | 显示上月账单 | | ⏳ |
| 2 | 点击下月按钮 | 显示下月账单 | | ⏳ |
| 3 | 切换到无账单月份 | 显示"暂无账单" | | ⏳ |

### TC-015: 账单为空
**优先级**：P1

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 新用户首次进入 | 显示"本月暂无账单" | | ⏳ |

---

## 五、统计功能测试

### TC-016: 月度统计
**优先级**：P0

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 进入统计页面 | 显示本月统计数据 | | ⏳ |
| 2 | 检查支出金额 | 显示正确总额 | | ⏳ |
| 3 | 检查收入金额 | 显示正确总额 | | ⏳ |
| 4 | 检查结余 | 收入-支出=结余 | | ⏳ |

### TC-017: 分类统计
**优先级**：P0

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 检查分类列表 | 按支出金额排序 | | ⏳ |
| 2 | 检查百分比 | 百分比计算正确 | | ⏳ |
| 3 | 检查进度条 | 按比例显示 | | ⏳ |

### TC-018: Tab切换
**优先级**：P1

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 点击"月度"Tab | 显示月度统计 | | ⏳ |
| 2 | 点击"年度"Tab | 显示年度统计 | | ⏳ |

---

## 六、设置功能测试

### TC-019: 设置项保存
**优先级**：P0

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 开启震动提醒 | 开关状态保存 | | ⏳ |
| 2 | 关闭声音提醒 | 开关状态保存 | | ⏳ |
| 3 | 重新进入设置 | 设置项保持上次状态 | | ⏳ |

### TC-020: 数据备份
**优先级**：P1

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 点击"数据备份" | 开始备份 | | ⏳ |
| 2 | 检查备份文件 | 生成JSON文件 | | ⏳ |
| 3 | 导出CSV | 生成CSV文件 | | ⏳ |

### TC-021: 数据恢复
**优先级**：P1

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 选择备份文件 | 显示文件选择器 | | ⏳ |
| 2 | 导入数据 | 数据恢复成功 | | ⏳ |
| 3 | 检查数据 | 账单数据完整恢复 | | ⏳ |

---

## 七、性能测试用例

### TC-022: 启动时间
**优先级**：P0

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 冷启动App | 启动时间 < 2s | | ⏳ |
| 2 | 热启动App | 启动时间 < 1s | | ⏳ |

### TC-023: 数据库性能
**优先级**：P1

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 查询100条记录 | 查询时间 < 100ms | | ⏳ |
| 2 | 查询1000条记录 | 查询时间 < 300ms | | ⏳ |
| 3 | 插入单条记录 | 插入时间 < 50ms | | ⏳ |

### TC-024: 内存占用
**优先级**：P1

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 启动后内存 | 内存占用 < 80MB | | ⏳ |
| 2 | 使用30分钟后 | 内存占用 < 100MB | | ⏳ |

---

## 八、兼容性测试用例

### TC-025: 系统版本兼容性
**优先级**：P1

| 系统版本 | 测试结果 | 备注 |
|----------|----------|------|
| HarmonyOS 5.0 | ⏳ | |
| HarmonyOS 5.0.1 | ⏳ | |
| HarmonyOS 5.1 | ⏳ | |

### TC-026: 设备兼容性
**优先级**：P1

| 设备型号 | 屏幕尺寸 | 测试结果 | 备注 |
|----------|----------|----------|------|
| Mate 60 Pro | 6.82" | ⏳ | |
| P60 Pro | 6.67" | ⏳ | |
| nova 11 | 6.7" | ⏳ | |

---

## 九、异常场景测试

### TC-027: 数据库异常
**优先级**：P1

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 数据库损坏 | 提示修复或重置 | | ⏳ |
| 2 | 存储空间不足 | 提示清理空间 | | ⏳ |

### TC-028: 权限异常
**优先级**：P1

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 撤销无障碍权限 | 提示重新授权 | | ⏳ |
| 2 | 撤销悬浮窗权限 | 提示开启权限 | | ⏳ |

### TC-029: 网络异常（如有联网功能）
**优先级**：P2

| 步骤 | 操作 | 预期结果 | 实际结果 | 状态 |
|------|------|----------|----------|------|
| 1 | 无网络连接 | 正常使用离线功能 | | ⏳ |

---

## 测试执行记录

### 第一轮测试（Week 1）
**日期**：____年__月__日  
**执行人**：__________  
**环境**：__________

| 用例ID | 测试结果 | 备注 |
|--------|----------|------|
| TC-001 | ⏳ | |
| TC-002 | ⏳ | |
| ... | ... | |

### Bug统计
- 致命：0
- 严重：0
- 一般：0
- 轻微：0

---

**文档版本**：v1.0  
**创建日期**：2026-02-16  
**最后更新**：2026-02-16